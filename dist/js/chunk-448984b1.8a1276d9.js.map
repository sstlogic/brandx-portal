{"version":3,"sources":["webpack:///./src/views/ProfilePage/ProfileBillingPage.vue?9fa2","webpack:///./src/views/ProfilePage/ProfileBillingPage.vue?34cf","webpack:///./src/views/ProfilePage/ProfileBillingPage.vue","webpack:///./src/views/ProfilePage/ProfileBillingPage.vue?1399","webpack:///./src/views/ProfilePage/ProfileBillingPage.vue?a2f2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","isMember","_e","_s","formatDate","user","data","memberSince","memberExpiry","memberRenewal","existingMember","autoRenew","directives","name","rawName","value","editing","expression","on","$event","attrs","routeNames","profile","subscribe","loading","turnOffRenew","turnOnRenew","last4","staticRenderFns","components","BaseButton","PaymentMethods","setup","useAuthStore","refreshState","useLoader","withLoader","useConfirmation","confirmation","useApi","$delete","post","confirmed","component","VExpandTransition"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACN,EAAIO,GAAG,8BAAgCP,EAAIQ,SAA0XR,EAAIS,KAApXL,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,mGAAmGH,EAAG,MAAMA,EAAG,MAAMJ,EAAIO,GAAG,8MAAwNP,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACJ,EAAIO,GAAG,qBAAqBP,EAAIU,GAAGV,EAAIW,WAAWX,EAAIY,KAAKC,KAAKC,iBAAiBV,EAAG,MAAM,CAACJ,EAAIO,GAAG,sBAAsBP,EAAIU,GAAGV,EAAIW,WAAWX,EAAIY,KAAKC,KAAKE,kBAAmBf,EAAIY,KAAKC,KAAkB,cAAET,EAAG,MAAM,CAACJ,EAAIO,GAAG,iBAAiBP,EAAIU,GAAGV,EAAIW,WAAWX,EAAIY,KAAKC,KAAKG,mBAAmBhB,EAAIS,KAAOT,EAAIY,KAAKC,KAAKI,eAAkGjB,EAAIS,KAAtFL,EAAG,MAAM,CAACJ,EAAIO,GAAG,eAAeP,EAAIU,GAAGV,EAAIY,KAAKC,KAAKK,UAAY,KAAO,YAAqBd,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,cAAc,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQtB,EAAIuB,UAAYvB,EAAIY,KAAKC,KAAKI,eAAgBO,WAAW,0CAA0CC,GAAG,CAAC,MAAQ,SAASC,GAAQ1B,EAAIuB,SAAU,KAAQ,CAACvB,EAAIO,GAAG,WAAW,KAAKH,EAAG,MAAM,CAACA,EAAG,cAAc,CAACuB,MAAM,CAAC,GAAK,CAAEP,KAAMpB,EAAI4B,WAAWC,QAAQC,aAAc,CAAC9B,EAAIO,GAAG,cAAc,GAAGH,EAAG,sBAAsB,CAACA,EAAG,MAAM,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOtB,EAAIuB,SAAWvB,EAAIQ,SAAUgB,WAAW,wBAAwBlB,YAAY,QAAQ,CAAEN,EAAIY,KAAKC,KAAc,UAAET,EAAG,cAAc,CAACuB,MAAM,CAAC,MAAQ,GAAG,QAAU3B,EAAI+B,SAASN,GAAG,CAAC,MAAQzB,EAAIgC,eAAe,CAAChC,EAAIO,GAAG,yBAAyBP,EAAIS,KAAOT,EAAIY,KAAKC,KAAKK,UAAoIlB,EAAIS,KAA7HL,EAAG,cAAc,CAACuB,MAAM,CAAC,MAAQ,GAAG,QAAU3B,EAAI+B,SAASN,GAAG,CAAC,MAAQzB,EAAIiC,cAAc,CAACjC,EAAIO,GAAG,yBAAkC,MAAM,GAAIP,EAAIQ,UAAYR,EAAIY,KAAKC,KAAKqB,MAAO9B,EAAG,MAAM,CAACA,EAAG,oBAAoB,GAAGJ,EAAIS,QACloE0B,EAAkB,G,oICoDP,iBAAgB,CAC7BC,WAAY,CAAEC,aAAA,KAAYC,iBAAA,MAC1BlB,KAAM,qBACNmB,MAH6B,WAI3B,MAAyC,OAAAC,EAAA,QAAjChC,EAAR,EAAQA,SAAUiC,EAAlB,EAAkBA,aAAc7B,EAAhC,EAAgCA,KAC1BW,EAAU,gBAAI,GACpB,EAAgC,OAAAmB,EAAA,QAAxBX,EAAR,EAAQA,QAASY,EAAjB,EAAiBA,WACjB,EAAyB,OAAAC,EAAA,QAAjBC,EAAR,EAAQA,aACR,EAA0B,OAAAC,EAAA,QAAlBC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KAEjB,eAAS,wCAAC,8GACFP,IADE,4CAIV,IAAMT,EAAY,yDAAG,uHACnBW,EAAU,wCAAC,oHACeE,EACtB,oIAFO,UACHI,EADG,QAKLA,EALK,gCAMDF,EAAQ,iBANP,uBAODN,IAPC,OAQPlB,EAAQD,OAAQ,EART,6CADQ,2CAAH,qDAaZW,EAAW,yDAAG,uHAClBU,EAAU,wCAAC,oHACeE,EACtB,qHAFO,UACHI,EADG,QAKLA,EALK,gCAMDD,EAAK,uBAAwB,IAN5B,uBAODP,IAPC,OAQPlB,EAAQD,OAAQ,EART,6CADO,2CAAH,qDAajB,MAAO,CACLd,WACAoB,aAAA,KACAhB,OACAD,WAAA,OACAY,UACAS,eACAC,cACAF,cCrGub,I,yDCQzbmB,EAAY,eACd,EACAnD,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAe,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,kBAAA,U","file":"js/chunk-448984b1.8a1276d9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileBillingPage.vue?vue&type=style&index=0&id=39a9cf30&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"gray-card pa-4 mb-4\"},[_c('div',{staticClass:\"font-weight-bold mb-4\"},[_vm._v(\"Artist Pass Subscription\")]),(!_vm.isMember)?_c('div',{staticClass:\"mb-4\"},[_vm._v(\" For full access to the Brand X Booking Calendar please pay for your subscription to continue. \"),_c('br'),_c('br'),_vm._v(\" A subscription will enable you to book space immediately at heavily subsidised rates for hire, as well as receive discounts on tickets to our Flying Nun shows and Artist to Artist training programs. \")]):_vm._e(),(_vm.isMember)?_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('div',{staticClass:\"d-flex justify-center flex-column\"},[_c('div',[_vm._v(\"Subscriber since: \"+_vm._s(_vm.formatDate(_vm.user.data.memberSince)))]),_c('div',[_vm._v(\"Subscriber expiry: \"+_vm._s(_vm.formatDate(_vm.user.data.memberExpiry)))]),(_vm.user.data.memberRenewal)?_c('div',[_vm._v(\"Renewal date: \"+_vm._s(_vm.formatDate(_vm.user.data.memberRenewal)))]):_vm._e(),(!_vm.user.data.existingMember)?_c('div',[_vm._v(\"Auto-renew: \"+_vm._s(_vm.user.data.autoRenew ? 'On' : 'Off'))]):_vm._e()]),_c('div',{staticClass:\"d-flex justify-center flex-column\"},[_c('base-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editing && !_vm.user.data.existingMember),expression:\"!editing && !user.data.existingMember\"}],on:{\"click\":function($event){_vm.editing = true}}},[_vm._v(\"Edit\")])],1)]):_c('div',[_c('base-button',{attrs:{\"to\":{ name: _vm.routeNames.profile.subscribe }}},[_vm._v(\"Pay Now\")])],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editing && _vm.isMember),expression:\"editing && isMember\"}],staticClass:\"pt-4\"},[(_vm.user.data.autoRenew)?_c('base-button',{attrs:{\"block\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.turnOffRenew}},[_vm._v(\"Turn Off Auto Renew\")]):_vm._e(),(!_vm.user.data.autoRenew)?_c('base-button',{attrs:{\"block\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.turnOnRenew}},[_vm._v(\"Turn On Auto Renew\")]):_vm._e()],1)])],1),(_vm.isMember || _vm.user.data.last4)?_c('div',[_c('payment-methods')],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport BaseButton from '@/components/base/BaseButton.vue';\nimport { useApi } from '@/composables/useApi';\nimport { useAuthStore } from '@/composables/useAuthStore';\nimport { useConfirmation } from '@/composables/useConfirmation/useConfirmation';\nimport { useLoader } from '@/composables/useLoader';\nimport { defineComponent, onMounted, ref } from '@/plugins/composition';\nimport { routeNames } from '@/router/routeNames';\nimport { formatDate } from '@/utils/date';\nimport PaymentMethods from './components/PaymentMethods.vue';\n\nexport default defineComponent({\n  components: { BaseButton, PaymentMethods },\n  name: 'ProfileBillingPage',\n  setup() {\n    const { isMember, refreshState, user } = useAuthStore();\n    const editing = ref(false);\n    const { loading, withLoader } = useLoader();\n    const { confirmation } = useConfirmation();\n    const { $delete, post } = useApi();\n\n    onMounted(async () => {\n      await refreshState();\n    });\n\n    const turnOffRenew = async () =>\n      withLoader(async () => {\n        const confirmed = await confirmation(\n          'Are you sure you want to turn off auto-renew? You will no longer be able to book resources after the end of your billing period.'\n        );\n\n        if (confirmed) {\n          await $delete('/subscription');\n          await refreshState();\n          editing.value = false;\n        }\n      });\n\n    const turnOnRenew = async () =>\n      withLoader(async () => {\n        const confirmed = await confirmation(\n          'Are you sure you want to turn on auto-renew? You will be charged automatically at the end of your billing period.'\n        );\n\n        if (confirmed) {\n          await post('/subscription/resume', {});\n          await refreshState();\n          editing.value = false;\n        }\n      });\n\n    return {\n      isMember,\n      routeNames,\n      user,\n      formatDate,\n      editing,\n      turnOffRenew,\n      turnOnRenew,\n      loading,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileBillingPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileBillingPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProfileBillingPage.vue?vue&type=template&id=39a9cf30&scoped=true&\"\nimport script from \"./ProfileBillingPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProfileBillingPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ProfileBillingPage.vue?vue&type=style&index=0&id=39a9cf30&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39a9cf30\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VExpandTransition})\n"],"sourceRoot":""}