{"version":3,"sources":["webpack:///./src/views/ProfilePage/SubscribePage.vue?886a","webpack:///./src/views/ProfilePage/SubscribePage.vue","webpack:///./src/views/ProfilePage/SubscribePage.vue?3082","webpack:///./src/views/ProfilePage/SubscribePage.vue?addd","webpack:///./src/components/PaymentInput.vue?2feb","webpack:///./src/composables/useLoader/useLoader.ts","webpack:///./src/components/PaymentInput.vue?4cbc","webpack:///./src/components/PaymentInput.vue","webpack:///./src/components/PaymentInput.vue?91a5","webpack:///./src/components/PaymentInput.vue?5f95","webpack:///./src/utils/number.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","_s","user","data","organisation","formatPrice","price","on","susbcribed","model","value","callback","$$v","dialog","expression","formatDate","sub","memberExpiry","reference","goToBilling","_e","staticRenderFns","components","PaymentInput","MemberPage","BaseButton","name","setup","useRouter","router","useAuthStore","refreshState","getSubscriptionPrice","push","routeNames","spaces","book","_sub","component","VCard","VCardActions","VCardText","VCardTitle","VDialog","VSheet","VSpacer","config","loading","initial","withLoader","Promise","resolve","setTimeout","result","delay","directives","rawName","paymentError","valid","subscribe","buttonText","StripeElementCard","props","type","String","default","emit","stripe","intent","card","cardComplete","length","usePayments","getSetupIntent","useApi","post","useLoader","setupStripe","cardOptions","hidePostalCode","style","base","fontSize","fontFamily","textTransform","fontWeight","elements","create","mount","e","complete","setPaymentIntent","_stripe","confirmCardSetup","client_secret","payment_method","billing_details","setupIntent","error","message","paymentMethodId","subscribed","VExpandTransition","VTextField","toLocaleString","currency"],"mappings":"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","file":"js/chunk-b81e19ea.8e108abe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('member-page',{attrs:{\"heading\":\"Artist Pass Subscription\",\"show-title\":false}},[_c('div',[_c('div',[_c('p',[_vm._v(\"Once payment is complete you will be emailed your Artist Pass confirmation and receipt.\")])]),_c('v-sheet',{staticClass:\"border-yellow pa-2 my-2\",attrs:{\"max-width\":\"45%\"}},[_c('div',[_c('strong',[_vm._v(_vm._s(_vm.user.data.organisation ? 'Organisation' : 'Individual'))])]),_c('div',[_vm._v(_vm._s(_vm.formatPrice(_vm.price)))]),_c('div',[_vm._v(\"Per Year, Billed Yearly\")])]),_c('div',[_c('p',[_c('strong',[_vm._v(\"Enter your card details. \"),_c('br'),_vm._v(\" Your subscription will start immediately. \")])])]),_c('div',[_c('payment-input',{attrs:{\"button-text\":\"Subscribe\"},on:{\"success\":_vm.susbcribed}})],1)],1),(_vm.sub)?_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 text-break\"},[_vm._v(\" Your Artist Pass is Confirmed \")]),_c('v-card-text',{staticClass:\"black--text\"},[_c('div',[_vm._v(\" Please check your email for your Artist Pass receipt. Please allow a few minutes for this email to arrive. You can now book spaces with Brand X at subsidised rates. \")]),_c('div',{staticClass:\"my-4 pa-4 border-yellow\"},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"Artist Pass\")]),_c('div',[_vm._v(\"Subscriber Expiry: \"+_vm._s(_vm.formatDate(_vm.sub.memberExpiry)))]),_c('div',[_vm._v(\"Next Billing Date: \"+_vm._s(_vm.formatDate(_vm.sub.memberExpiry))+\"*\")]),_c('div',{staticClass:\"mt-2 font-weight-bold\"},[_vm._v(\"Receipt #: \"+_vm._s(_vm.sub.reference))])]),_c('div',[_vm._v(\"* You will be emailed 14 days and 48 hours prior to rewnewal\")]),_c('div',{staticClass:\"mt-2\"},[_vm._v(\"For any questions, contact us at bookings@brandx.org.au\")])]),_c('v-card-actions',[_c('v-spacer'),_c('base-button',{on:{\"click\":_vm.goToBilling}},[_vm._v(\"Book a Space\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport BaseButton from '@/components/base/BaseButton.vue';\nimport PaymentInput from '@/components/PaymentInput.vue';\nimport { useAuthStore } from '@/composables/useAuthStore';\nimport { SubscribedResponse } from '@/composables/useBookedResources/types';\nimport MemberPage from '@/layouts/MemberLayout/MemberPage.vue';\nimport { defineComponent, onMounted, ref } from '@/plugins/composition';\nimport { routeNames } from '@/router/routeNames';\nimport { useRouter } from '@/router/useRouter';\nimport { formatDate } from '@/utils/date';\n\nimport { formatPrice } from '@/utils/number';\n\nexport default defineComponent({\n  components: { PaymentInput, MemberPage, BaseButton },\n  name: 'SubscribePage',\n  setup() {\n    const sub = ref<SubscribedResponse | null>(null);\n    const price = ref(0);\n\n    const { router } = useRouter();\n    const dialog = ref(true);\n    const { refreshState } = useAuthStore();\n    const { user } = useAuthStore();\n\n    onMounted(async () => {\n      price.value = await user.value.getSubscriptionPrice();\n    });\n\n    const goToBilling = async () => {\n      await refreshState();\n      router.push({ name: routeNames.spaces.book });\n    };\n\n    const susbcribed = (_sub: SubscribedResponse) => {\n      sub.value = _sub;\n      dialog.value = true;\n    };\n\n    return {\n      goToBilling,\n      susbcribed,\n      dialog,\n      formatDate,\n      sub,\n      formatPrice,\n      price,\n      user,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribePage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribePage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SubscribePage.vue?vue&type=template&id=7c55e97f&\"\nimport script from \"./SubscribePage.vue?vue&type=script&lang=ts&\"\nexport * from \"./SubscribePage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardActions,VCardText,VCardTitle,VDialog,VSheet,VSpacer})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentInput.vue?vue&type=style&index=0&id=4d7ab3f6&scoped=true&lang=scss&\"","import { ref } from '@/plugins/composition';\n\ntype UseLoaderConfig = { delay?: number; initial?: boolean };\n\nexport const useLoader = (config?: UseLoaderConfig) => {\n  const loading = ref(config?.initial ?? false);\n\n  const withLoader = async (callback: () => unknown) => {\n    loading.value = true;\n\n    return new Promise((resolve) => {\n      setTimeout(async () => {\n        let result;\n\n        try {\n          result = await callback();\n        } catch (e) {\n          loading.value = false;\n        }\n\n        loading.value = false;\n        resolve(result);\n      }, config?.delay ?? 0);\n    });\n  };\n\n  return { loading, withLoader };\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-4\"},[_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_c('v-text-field',{attrs:{\"dense\":\"\",\"hide-details\":\"auto\",\"label\":\"Card Holder Name\",\"outlined\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('div',{staticClass:\"my-4\",attrs:{\"id\":\"card-element\"}}),_c('v-expand-transition',[(_vm.paymentError)?_c('div',{staticClass:\"error--text\"},[_vm._v(_vm._s(_vm.paymentError))]):_vm._e()])],1)]),_c('div',{staticClass:\"d-flex mt-4\"},[_c('v-spacer'),_c('base-button',{attrs:{\"disabled\":!_vm.valid,\"loading\":_vm.loading},on:{\"click\":_vm.subscribe}},[_vm._v(_vm._s(_vm.buttonText))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { computed, defineComponent, onMounted, ref } from '@/plugins/composition';\nimport { StripeElementCard } from '@vue-stripe/vue-stripe';\nimport {\n  loadStripe,\n  SetupIntent,\n  Stripe,\n  StripeCardElement,\n  StripeCardElementOptions,\n  StripeElements,\n} from '@stripe/stripe-js';\nimport BaseButton from './base/BaseButton.vue';\nimport { usePayments } from '@/composables/usePayments';\nimport { useApi } from '@/composables/useApi';\nimport { useLoader } from '@/composables/useLoader';\nimport { SubscribedResponse } from '@/composables/useBookedResources/types';\n\nexport default defineComponent({\n  name: 'PaymentInput',\n  components: {\n    StripeElementCard,\n    BaseButton,\n  },\n  props: {\n    buttonText: {\n      type: String,\n      default: 'Pay Now',\n    },\n  },\n  setup(props, { emit }) {\n    const stripe = ref<Stripe | null>(null);\n    const intent = ref<SetupIntent | null>(null);\n    const card = ref<StripeCardElement | null>(null);\n    const name = ref('');\n    const cardComplete = ref(false);\n    const valid = computed(() => {\n      return name.value.length > 0 && cardComplete.value;\n    });\n    const paymentError = ref<string | null>(null);\n\n    const { getSetupIntent } = usePayments();\n    const { post } = useApi();\n    const { loading, withLoader } = useLoader();\n\n    const setupStripe = async () => {\n      stripe.value = (await loadStripe(process.env.VUE_APP_STRIPE_KEY)) as Stripe;\n\n      const cardOptions: StripeCardElementOptions = {\n        hidePostalCode: true,\n        style: {\n          base: {\n            fontSize: '16px',\n            fontFamily: 'Roboto, sans-serif',\n            textTransform: 'capitalize',\n            fontWeight: 300,\n          },\n        },\n      };\n\n      const elements = stripe.value.elements() as StripeElements;\n      card.value = elements.create('card', cardOptions);\n      card.value.mount('#card-element');\n\n      card.value.on('change', function (e) {\n        cardComplete.value = e.complete;\n      });\n    };\n\n    const setPaymentIntent = async () => {\n      intent.value = (await getSetupIntent()).intent;\n    };\n\n    onMounted(async () => {\n      await setPaymentIntent();\n      await setupStripe();\n    });\n\n    const subscribe = async () =>\n      withLoader(async () => {\n        const _stripe = stripe.value as Stripe;\n        const { setupIntent, error } = await _stripe.confirmCardSetup(intent.value?.client_secret ?? '', {\n          payment_method: {\n            card: card.value as StripeCardElement,\n            billing_details: { name: name.value },\n          },\n        });\n\n        if (error) {\n          paymentError.value = error.message ?? null;\n        } else {\n          const subscribed = await post<SubscribedResponse>('/subscriptions', {\n            paymentMethodId: setupIntent.payment_method,\n          });\n          if (subscribed) {\n            emit('success', subscribed);\n          }\n        }\n      });\n\n    return {\n      intent,\n      subscribe,\n      name,\n      valid,\n      loading,\n      paymentError,\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaymentInput.vue?vue&type=template&id=4d7ab3f6&scoped=true&\"\nimport script from \"./PaymentInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./PaymentInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PaymentInput.vue?vue&type=style&index=0&id=4d7ab3f6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d7ab3f6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VExpandTransition,VSpacer,VTextField})\n","export const formatPrice = (price: string | number): string => {\n  return ((price as number) / 100).toLocaleString('en-AU', { style: 'currency', currency: 'AUD' });\n};\n\nexport const minutesToHours = (minutes: number): number => {\n  return Math.round((minutes / 60) * 100) / 100;\n};\n"],"sourceRoot":""}