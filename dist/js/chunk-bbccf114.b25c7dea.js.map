{"version":3,"sources":["webpack:///./src/views/BookSpace/Checkout/CheckoutPage.vue?2f09","webpack:///./src/views/BookSpace/Checkout/components/PendingReservationListItem.vue?884f","webpack:///./src/views/BookSpace/Checkout/components/PendingReservationListItem.vue","webpack:///./src/views/BookSpace/Checkout/components/PendingReservationListItem.vue?0f5d","webpack:///./src/views/BookSpace/Checkout/components/PendingReservationListItem.vue?d208","webpack:///./src/views/BookSpace/Checkout/CheckoutPage.vue","webpack:///./src/views/BookSpace/Checkout/CheckoutPage.vue?22f5","webpack:///./src/views/BookSpace/Checkout/CheckoutPage.vue?9094","webpack:///./node_modules/date-fns/esm/formatISO/index.js","webpack:///./src/utils/number.ts","webpack:///../../../src/components/VDivider/VDivider.ts","webpack:///./src/composables/useBookedResources/useBookedReservations.ts","webpack:///./node_modules/date-fns/esm/_lib/addLeadingZeros/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","total","staticClass","_v","_e","_l","reservation","index","key","uuid","_s","on","refresh","formatPrice","loading","name","routeNames","spaces","book","defaultPaymentMethod","card","last4","paymentError","contact","class","payByInvoice","pay","addPaymentMethod","$event","addingPaymentMethod","methodAdded","model","value","callback","$$v","dialog","expression","payment","reference","goToBookings","staticRenderFns","resourceName","date","i","formatTimeRange","start","end","useType","rate","duration","price","cancel","props","type","Object","required","Number","setup","emit","useApi","$delete","component","VChip","VSpacer","components","MemberPage","PendingReservationListItem","BaseButton","PaymentMethods","reservations","get","post","useAuthStore","user","useLoader","initial","withLoader","usePayments","getDefaultPaymentMethod","useRouter","router","useConfirmation","confirmation","fetchTotal","response","fetchReservations","makePayment","catch","error","data","redirect","window","location","href","message","then","res","push","my","bookings","text","confirmTitle","confirmText","confirm","VCard","VCardActions","VCardText","VCardTitle","VDialog","VDivider","VExpandTransition","formatISO","options","arguments","originalDate","isNaN","getTime","RangeError","format","String","representation","result","tzOffset","dateDelimiter","timeDelimiter","day","getDate","month","getMonth","year","getFullYear","concat","offset","getTimezoneOffset","absoluteOffset","Math","abs","hourOffset","floor","minuteOffset","sign","hour","getHours","minute","getMinutes","second","getSeconds","separator","time","join","toLocaleString","style","currency","inset","vertical","Boolean","$attrs","role","orientation","h","themeClasses","$listeners","createReservation","booking","resource","attendees","generatingIncome","income","funded","funding","performance","description","resource_name","Promise","reject","createRepeatingReservation","start_time","end_time","interval_type","interval","weekly_days","getPendingReservations","getBookedReservations","addLeadingZeros","number","targetLength","output","toString","length"],"mappings":"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","file":"js/chunk-bbccf114.b25c7dea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('member-page',{attrs:{\"heading\":\"Secure Payment\",\"show-title\":false}},[(_vm.total > 0)?_c('div',{staticClass:\"mb-4\"},[_vm._v(\" Once payment is complete you will receive a booking confirmation and receipt via email. \")]):_vm._e(),(_vm.total > 0)?_c('div',{staticClass:\"yellow-border pa-2\"},[_c('div',{staticClass:\"font-weight-bold mb-2\"},[_vm._v(\"Payment Summary\")]),_vm._l((_vm.reservations),function(reservation,index){return _c('div',{key:reservation.uuid},[_c('div',[_vm._v(\"Booking \"+_vm._s(index + 1))]),_c('pending-reservation-list-item',{attrs:{\"reservation\":reservation},on:{\"deleted\":_vm.refresh}}),_c('v-divider',{staticClass:\"my-4\"})],1)}),_c('div',[_c('strong',[_vm._v(\"Total:\"+_vm._s(_vm.formatPrice(_vm.total)))])])],2):_vm._e(),(_vm.total === 0 && !_vm.loading)?_c('div',{staticClass:\"mt-4\"},[_c('div',{staticClass:\"text-center\"},[_vm._v(\"You have no pending reservations.\")]),_c('base-button',{staticClass:\"mt-2\",attrs:{\"to\":{ name: _vm.routeNames.spaces.book },\"black\":\"\",\"block\":\"\"}},[_vm._v(\"Create a Booking\")])],1):_vm._e(),(_vm.total > 0)?_c('div',{staticClass:\"mt-4\"},[(_vm.defaultPaymentMethod)?_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\" Your default payment method ending in \"+_vm._s(_vm.defaultPaymentMethod.card.last4)+\" will be charged immediately. \")]):_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"You must add a payment method to finalise your bookings.\")]),(_vm.paymentError)?_c('div',{staticClass:\"error--text\"},[_vm._v(\" \"+_vm._s(_vm.paymentError)+\". Please update your details and try again. If the problem persists, please \"),_c('router-link',{attrs:{\"to\":{ name: _vm.routeNames.contact }}},[_vm._v(\"contact us\")]),_vm._v(\". \")],1):_vm._e(),_c('div',{staticClass:\"d-md-flex my-4\",class:_vm.defaultPaymentMethod ? 'flex-md-row-reverse' : 'd-flex'},[_c('div',{staticClass:\"d-flex justify-space-between mb-4\"},[_c('base-button',{staticClass:\"mr-2\",attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.payByInvoice}},[_vm._v(\"Pay By Invoice\")]),(_vm.defaultPaymentMethod)?_c('base-button',{attrs:{\"black\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.pay}},[_vm._v(\"Pay Now\")]):_vm._e()],1),_c('v-spacer'),_c('div',[_c('base-button',{attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.addPaymentMethod}},[_vm._v(\"Add Payment Method\")])],1)],1),_c('v-expand-transition',[(_vm.addingPaymentMethod)?_c('payment-methods',{attrs:{\"show-adding\":\"\"},on:{\"cancel\":function($event){_vm.addingPaymentMethod = false},\"input\":_vm.methodAdded}}):_vm._e()],1)],1):_vm._e(),(_vm.payment)?_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 text-break\"},[_vm._v(\" Your booking is secured \")]),_c('v-card-text',{staticClass:\"black--text\"},[_c('div',[_vm._v(\" Please check your email for confirmation records and your receipt. \"),_c('br'),_c('br'),_vm._v(\" If anything changes and you need to edit your booking, please log back in to your account. \")]),_c('div',{staticClass:\"my-4 pa-4 border-yellow\"},[_c('div',[_vm._v(\"Total Paid: \"+_vm._s(_vm.formatPrice(_vm.payment.total)))]),_c('div',{staticClass:\"mt-2 font-weight-bold\"},[_vm._v(\"Receipt #: \"+_vm._s(_vm.payment.reference))])]),_c('div',{staticClass:\"mt-2\"},[_vm._v(\"For any questions, contact us at bookings@brandx.org.au\")])]),_c('v-card-actions',[_c('v-spacer'),_c('base-button',{attrs:{\"black\":\"\"},on:{\"click\":_vm.goToBookings}},[_vm._v(\"Go To Dashboard\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.reservation.resourceName))]),_c('div',{staticClass:\"my-1\"},_vm._l((_vm.reservation.dates),function(date,i){return _c('strong',{key:i},[_vm._v(\" \"+_vm._s(_vm.formatTimeRange(date.start, date.end))+\" \")])}),0),_c('div',[_c('strong',[_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.reservation.useType === 'performance' ? 'event' : _vm.reservation.useType))]),_vm._v(\" Rate Applied:\")]),_vm._v(\" \"+_vm._s(_vm.formatPrice(_vm.reservation.rate))+\" \")]),_c('div',[_c('strong',[_vm._v(\"Total Hours:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.duration))]),_c('div',{staticClass:\"d-flex\"},[_c('div',[_c('strong',[_vm._v(\"Amount Due:\")]),_vm._v(\" \"+_vm._s(_vm.formatPrice(_vm.reservation.price)))]),_c('v-spacer'),_c('v-chip',{staticClass:\"font-weight-bold\",attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Delete\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PendingReservation } from '@/composables/useBookedResources/types';\nimport { defineComponent, PropType } from '@/plugins/composition';\nimport { formatPrice } from '@/utils/number';\nimport { formatTimeRange } from '@/utils/date';\nimport { useApi } from '@/composables/useApi';\n\nexport default defineComponent({\n  name: 'PendingReservationListItem',\n  props: {\n    reservation: {\n      type: Object as PropType<PendingReservation>,\n      required: true,\n    },\n    index: {\n      type: Number,\n      required: false,\n    },\n  },\n  setup(props, { emit }) {\n    const cancel = async () => {\n      const { $delete } = useApi();\n\n      await $delete(`/reservations/${props.reservation.uuid}`);\n\n      emit('deleted');\n    };\n    return {\n      formatPrice,\n      formatTimeRange,\n      cancel,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PendingReservationListItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PendingReservationListItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PendingReservationListItem.vue?vue&type=template&id=6b7c31b0&\"\nimport script from \"./PendingReservationListItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./PendingReservationListItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VChip,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { useApi } from '@/composables/useApi';\nimport { useAuthStore } from '@/composables/useAuthStore';\nimport { PendingReservation } from '@/composables/useBookedResources/types';\nimport { getPendingReservations } from '@/composables/useBookedResources/useBookedReservations';\nimport MemberPage from '@/layouts/MemberLayout/MemberPage.vue';\nimport { defineComponent, onMounted, ref } from '@/plugins/composition';\nimport PendingReservationListItem from './components/PendingReservationListItem.vue';\nimport { formatPrice } from '@/utils/number';\nimport { routeNames } from '@/router/routeNames';\nimport BaseButton from '@/components/base/BaseButton.vue';\nimport { useLoader } from '@/composables/useLoader';\nimport { usePayments } from '@/composables/usePayments';\nimport { PaymentMethod } from '@stripe/stripe-js';\nimport { useRouter } from '@/router/useRouter';\nimport { useConfirmation } from '@/composables/useConfirmation';\nimport PaymentMethods from '@/views/ProfilePage/components/PaymentMethods.vue';\n\ntype Payment = {\n  reference: string;\n  total: number;\n};\n\nexport default defineComponent({\n  components: { MemberPage, PendingReservationListItem, BaseButton, PaymentMethods },\n  name: 'CheckoutPage',\n  setup() {\n    const reservations = ref<PendingReservation[]>([]);\n    const total = ref(0);\n    const defaultPaymentMethod = ref<PaymentMethod | null>(null);\n    const payment = ref<Payment | null>(null);\n    const dialog = ref(false);\n    const paymentError = ref<string | null>(null);\n    const addingPaymentMethod = ref(false);\n\n    const { get, post } = useApi();\n    const { user } = useAuthStore();\n    const { loading, withLoader } = useLoader({ initial: true });\n\n    const { getDefaultPaymentMethod } = usePayments();\n    const { router } = useRouter();\n    const { confirmation } = useConfirmation();\n    const fetchTotal = async () =>\n      withLoader(async () => {\n        const response = await get<{ total: number }>(`/users/${user.value.uuid}/checkout/details`);\n        defaultPaymentMethod.value = await getDefaultPaymentMethod();\n\n        total.value = response.total;\n      });\n\n    const fetchReservations = async () =>\n      withLoader(async () => {\n        reservations.value = await getPendingReservations();\n      });\n\n    const pay = async () =>\n      withLoader(async () => {\n        await user.value\n          .makePayment()\n          .catch((error) => {\n            if (error.response.data.redirect) {\n              window.location.href = error.response.data.redirect;\n            } else {\n              paymentError.value = error.response.data.message;\n            }\n          })\n          .then((res) => {\n            if (res.total) {\n              dialog.value = true;\n              payment.value = res;\n            }\n          });\n      });\n\n    const goToBookings = () => {\n      router.push({ name: routeNames.my.bookings });\n    };\n\n    const refresh = async () => {\n      await fetchReservations();\n      await fetchTotal();\n    };\n\n    onMounted(async () => {\n      await fetchReservations();\n      await fetchTotal();\n    });\n\n    const payByInvoice = async () => {\n      const text =\n        'To request a booking and to pay by invoice, you will need to delete the booking you have just made and contact <a href=\"mailto:bookings@brandx.org.au\">bookings@brandx.org.au</a> with your booking request (including location, date, time, billing name and address). <br><br> Please allow 48 hours for Brand X to confirm your request, which will be subject to availability at the time we answer your email.';\n      const confirm = await confirmation(text, { confirmTitle: 'Are you sure?', confirmText: 'Delete Bookings' });\n\n      if (confirm) {\n        withLoader(async () => {\n          const response = await post('empty-cart', {});\n          if (response) {\n            router.push({ name: routeNames.my.bookings });\n          }\n        });\n      }\n    };\n\n    const methodAdded = async () => {\n      await fetchTotal();\n      addingPaymentMethod.value = false;\n    };\n\n    const addPaymentMethod = () => {\n      addingPaymentMethod.value = true;\n    };\n\n    return {\n      reservations,\n      total,\n      routeNames,\n      formatPrice,\n      loading,\n      pay,\n      defaultPaymentMethod,\n      payment,\n      dialog,\n      goToBookings,\n      refresh,\n      paymentError,\n      payByInvoice,\n      user,\n      addingPaymentMethod,\n      addPaymentMethod,\n      methodAdded,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CheckoutPage.vue?vue&type=template&id=31d7cc5f&\"\nimport script from \"./CheckoutPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./CheckoutPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VExpandTransition,VSpacer})\n","import toDate from \"../toDate/index.js\";\nimport addLeadingZeros from \"../_lib/addLeadingZeros/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name formatISO\n * @category Common Helpers\n * @summary Format the date according to the ISO 8601 standard (https://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a003169814.htm).\n *\n * @description\n * Return the formatted date string in ISO 8601 format. Options may be passed to control the parts and notations of the date.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {'extended'|'basic'} [options.format='extended'] - if 'basic', hide delimiters between date and time values.\n * @param {'complete'|'date'|'time'} [options.representation='complete'] - format date, time with local time zone, or both.\n * @returns {String} the formatted date string (in local time zone)\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.format` must be 'extended' or 'basic'\n * @throws {RangeError} `options.represenation` must be 'date', 'time' or 'complete'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52))\n * //=> '2019-09-18T19:00:52Z'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601, short format (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { format: 'basic' })\n * //=> '20190918T190052'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, date only:\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'date' })\n * //=> '2019-09-18'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, time only (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'time' })\n * //=> '19:00:52Z'\n */\n\nexport default function formatISO(date, options) {\n  requiredArgs(1, arguments);\n  var originalDate = toDate(date);\n\n  if (isNaN(originalDate.getTime())) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var format = !(options !== null && options !== void 0 && options.format) ? 'extended' : String(options.format);\n  var representation = !(options !== null && options !== void 0 && options.representation) ? 'complete' : String(options.representation);\n\n  if (format !== 'extended' && format !== 'basic') {\n    throw new RangeError(\"format must be 'extended' or 'basic'\");\n  }\n\n  if (representation !== 'date' && representation !== 'time' && representation !== 'complete') {\n    throw new RangeError(\"representation must be 'date', 'time', or 'complete'\");\n  }\n\n  var result = '';\n  var tzOffset = '';\n  var dateDelimiter = format === 'extended' ? '-' : '';\n  var timeDelimiter = format === 'extended' ? ':' : ''; // Representation is either 'date' or 'complete'\n\n  if (representation !== 'time') {\n    var day = addLeadingZeros(originalDate.getDate(), 2);\n    var month = addLeadingZeros(originalDate.getMonth() + 1, 2);\n    var year = addLeadingZeros(originalDate.getFullYear(), 4); // yyyyMMdd or yyyy-MM-dd.\n\n    result = \"\".concat(year).concat(dateDelimiter).concat(month).concat(dateDelimiter).concat(day);\n  } // Representation is either 'time' or 'complete'\n\n\n  if (representation !== 'date') {\n    // Add the timezone.\n    var offset = originalDate.getTimezoneOffset();\n\n    if (offset !== 0) {\n      var absoluteOffset = Math.abs(offset);\n      var hourOffset = addLeadingZeros(Math.floor(absoluteOffset / 60), 2);\n      var minuteOffset = addLeadingZeros(absoluteOffset % 60, 2); // If less than 0, the sign is +, because it is ahead of time.\n\n      var sign = offset < 0 ? '+' : '-';\n      tzOffset = \"\".concat(sign).concat(hourOffset, \":\").concat(minuteOffset);\n    } else {\n      tzOffset = 'Z';\n    }\n\n    var hour = addLeadingZeros(originalDate.getHours(), 2);\n    var minute = addLeadingZeros(originalDate.getMinutes(), 2);\n    var second = addLeadingZeros(originalDate.getSeconds(), 2); // If there's also date, separate it with time with 'T'\n\n    var separator = result === '' ? '' : 'T'; // Creates a time string consisting of hour, minute, and second, separated by delimiters, if defined.\n\n    var time = [hour, minute, second].join(timeDelimiter); // HHmmss or HH:mm:ss.\n\n    result = \"\".concat(result).concat(separator).concat(time).concat(tzOffset);\n  }\n\n  return result;\n}","export const formatPrice = (price: string | number): string => {\n  return ((price as number) / 100).toLocaleString('en-AU', { style: 'currency', currency: 'AUD' });\n};\n\nexport const minutesToHours = (minutes: number): number => {\n  return Math.round((minutes / 60) * 100) / 100;\n};\n","// Styles\nimport './VDivider.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\nexport default Themeable.extend({\n  name: 'v-divider',\n\n  props: {\n    inset: Boolean,\n    vertical: Boolean,\n  },\n\n  render (h): VNode {\n    // WAI-ARIA attributes\n    let orientation\n    if (!this.$attrs.role || this.$attrs.role === 'separator') {\n      orientation = this.vertical ? 'vertical' : 'horizontal'\n    }\n    return h('hr', {\n      class: {\n        'v-divider': true,\n        'v-divider--inset': this.inset,\n        'v-divider--vertical': this.vertical,\n        ...this.themeClasses,\n      },\n      attrs: {\n        role: 'separator',\n        'aria-orientation': orientation,\n        ...this.$attrs,\n      },\n      on: this.$listeners,\n    })\n  },\n})\n","import { Reservation } from '@/models/booked/Reservation';\nimport { formatISO } from 'date-fns';\nimport { useApi } from '../useApi';\nimport { ResourceResponse } from '../useApi/types';\nimport { useAuthStore } from '../useAuthStore';\nimport { CreateBookingData, PendingReservation } from './types';\n\nexport const createReservation = async (\n  booking: CreateBookingData,\n  user: string,\n  resource: number,\n  resourceName: string\n) => {\n  const { post } = useApi();\n\n  await post('/reservations', {\n    start: booking.start,\n    end: booking.end,\n    user: user,\n    resource: resource,\n    attendees: booking.attendees,\n    generatingIncome: booking.income,\n    funded: booking.funding,\n    performance: booking.performance,\n    description: booking.description,\n    resource_name: resourceName,\n  }).catch((error) => Promise.reject(error));\n\n  return true;\n};\n\nexport const createRepeatingReservation = async (\n  booking: CreateBookingData,\n  user: string,\n  resource: number,\n  resourceName: string\n) => {\n  const { post } = useApi();\n\n  await post('/reservations', {\n    start: formatISO(booking.start),\n    end: formatISO(booking.end),\n    user: user,\n    resource: resource,\n    attendees: booking.attendees,\n    generatingIncome: booking.income,\n    funded: booking.funding,\n    performance: booking.performance,\n    description: booking.description,\n    start_time: booking.start_time,\n    end_time: booking.end_time,\n    interval_type: booking.interval_type,\n    interval: booking.interval,\n    weekly_days: booking.weekly_days,\n    resource_name: resourceName,\n  }).catch((error) => Promise.reject(error));\n\n  return true;\n};\n\nexport const getPendingReservations = async () => {\n  const { get } = useApi();\n  const { user } = useAuthStore();\n\n  const response = await get<ResourceResponse<PendingReservation[]>>(`/users/${user.value.uuid}/pending-reservations`);\n\n  return response.data;\n};\n\nexport const getBookedReservations = async (): Promise<Reservation[]> => {\n  const { get } = useApi();\n\n  const response = await get<ResourceResponse<Reservation[]>>('/booked/reservations');\n\n  return response.data;\n};\n","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}"],"sourceRoot":""}