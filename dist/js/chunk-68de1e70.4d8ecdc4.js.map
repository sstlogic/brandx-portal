{"version":3,"sources":["webpack:///./src/views/Password/ResetPasswordPage.vue?fb7b","webpack:///./src/views/Password/ResetPasswordPage.vue","webpack:///./src/views/Password/ResetPasswordPage.vue?47c9","webpack:///./src/views/Password/ResetPasswordPage.vue?2c30","webpack:///./src/layouts/MemberLayout/MemberPage.vue?4e60","webpack:///./src/layouts/MemberLayout/MemberPage.vue?1b03","webpack:///./src/layouts/MemberLayout/MemberPage.vue","webpack:///./src/layouts/MemberLayout/MemberPage.vue?2563","webpack:///./src/layouts/MemberLayout/MemberPage.vue?8a45","webpack:///./src/composables/useValidation/useValidation.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","success","_v","staticClass","name","routeNames","auth","login","_e","model","value","callback","$$v","valid","expression","rules","required","errors","email","formData","$set","isPasswordVisible","icons","mdiEyeOffOutline","mdiEyeOutline","password","minLength","on","$event","loading","staticRenderFns","components","MemberPage","BaseButton","props","token","type","String","setup","useLoader","withLoader","useApi","post","useRouter","router","useStatus","setMessage","mapErrors","catch","error","reset","mdi","component","VForm","VSpacer","VTextField","class","titleClass","_s","title","_t","md","heading","default","showTitle","Boolean","route","VCardTitle","VCard","VExpandTransition","VSheet","buildObject","obj","Object","entries","key","resetErrors","response","status","Error","message","data","push"],"mappings":"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","file":"js/chunk-68de1e70.4d8ecdc4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('member-page',{attrs:{\"title\":\"Reset Password\"}},[(!_vm.success)?_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Reset your password below.\")]):_c('div',[_c('p',[_vm._v(\"Your password has been reset.\")]),_c('base-button',{staticClass:\"mt-2\",attrs:{\"to\":{ name: _vm.routeNames.auth.login },\"black\":\"\",\"block\":\"\"}},[_vm._v(\"Login\")])],1),_c('div',[(!_vm.success)?_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Email\",\"rules\":[_vm.rules.required],\"disabled\":\"\",\"error-messages\":_vm.errors.email,\"dense\":\"\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"type\":_vm.isPasswordVisible ? 'text' : 'password',\"label\":\"Password\",\"append-icon\":_vm.isPasswordVisible ? _vm.icons.mdiEyeOffOutline : _vm.icons.mdiEyeOutline,\"error-messages\":_vm.errors.password,\"rules\":[_vm.rules.required, _vm.rules.minLength(8)],\"dense\":\"\"},on:{\"click:append\":function($event){_vm.isPasswordVisible = !_vm.isPasswordVisible}},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}}),_c('div',{staticClass:\"d-flex align-center justify-space-between flex-wrap\"},[_c('v-spacer')],1),_c('base-button',{attrs:{\"black\":\"\",\"block\":\"\",\"loading\":_vm.loading,\"disabled\":!_vm.valid},on:{\"click\":_vm.login}},[_vm._v(\"Reset Password\")])],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { useApi } from '@/composables/useApi';\nimport { useLoader } from '@/composables/useLoader';\nimport { useFormValidation } from '@/composables/useValidation';\nimport MemberPage from '@/layouts/MemberLayout/MemberPage.vue';\nimport { defineComponent, reactive, ref } from '@/plugins/composition';\nimport { useRouter } from '@/router/useRouter';\nimport { rules } from '@/composables/useValidation/validations';\nimport { mdiEyeOutline } from '@mdi/js';\nimport BaseButton from '@/components/base/BaseButton.vue';\nimport { routeNames } from '@/router/routeNames';\nimport { useStatus } from '@/composables/useStatus';\n\nexport default defineComponent({\n  components: { MemberPage, BaseButton },\n  name: 'ResetPasswordPage',\n  props: {\n    token: {\n      type: String,\n      required: true,\n    },\n    email: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const success = ref(false);\n    const valid = ref(false);\n    const isPasswordVisible = ref(false);\n    const { loading, withLoader } = useLoader();\n    const { post } = useApi();\n    const { router } = useRouter();\n    const { setMessage } = useStatus();\n\n    const formData = reactive({\n      password: '',\n      email: props.email,\n    });\n\n    const { errors, mapErrors } = useFormValidation(formData);\n\n    const login = async () =>\n      withLoader(async () => {\n        loading.value = true;\n        const reset = await post('/reset-password', {\n          email: formData.email,\n          password: formData.password,\n          token: props.token,\n        }).catch((error) => {\n          mapErrors(error);\n        });\n\n        if (reset) {\n          success.value = true;\n        }\n      });\n\n    return {\n      success,\n      valid,\n      isPasswordVisible,\n      login,\n      loading,\n      formData,\n      errors,\n      rules,\n      icons: {\n        mdiEyeOutline,\n      },\n      routeNames,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPasswordPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPasswordPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResetPasswordPage.vue?vue&type=template&id=5cd60ef3&\"\nimport script from \"./ResetPasswordPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResetPasswordPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VForm,VSpacer,VTextField})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberPage.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-full\"},[_c('v-expand-transition',[(_vm.showTitle)?_c('v-card-title',{staticClass:\"bg-black text-yellow\",class:_vm.titleClass},[_vm._v(_vm._s(_vm.title))]):_vm._e()],1),_vm._t(\"header\"),_c('v-sheet',{staticClass:\"pa-2 mt-2 mx-auto\",attrs:{\"max-width\":_vm.md ? '1080px' : '100%'}},[(_vm.heading)?_c('div',{staticClass:\"font-weight-bold text-h5 mb-2\"},[_vm._v(_vm._s(_vm.heading))]):_vm._e(),_vm._t(\"default\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@/plugins/composition';\nimport { breakpointsTailwind, useBreakpoints } from '@vueuse/core';\nimport { routeNames } from '@/router/routeNames';\nimport { useRouter } from '@/router/useRouter';\n\nexport default defineComponent({\n  name: 'MemberPage',\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    heading: {\n      type: String,\n      default: null,\n      required: false,\n    },\n    titleClass: {\n      type: String,\n      default: '',\n      required: false,\n    },\n    showTitle: {\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n  },\n  setup() {\n    const { md } = useBreakpoints(breakpointsTailwind);\n    const { route } = useRouter();\n\n    return {\n      md,\n      routeNames,\n      route,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MemberPage.vue?vue&type=template&id=1db3128a&\"\nimport script from \"./MemberPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./MemberPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MemberPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VCardTitle,VExpandTransition,VSheet})\n","import { AxiosError } from 'axios';\nimport { camel } from '@/utils/string';\nimport { ref, watch } from '@/plugins/composition';\n\ntype ErrorObject = {\n  [key: string]: string[];\n};\n\ntype FormData = {\n  [key: string]: unknown;\n};\n\n// type ErrorResponse = {\n//   [key: string]: unknown;\n// };\n\ntype ErrorsObject<T> = {\n  [K in keyof T]: T[K];\n};\n\nexport const useFormValidation = <T extends FormData>(formData: T) => {\n  const valid = ref(false);\n\n  const buildObject = () => {\n    const obj = {} as ErrorObject;\n    for (const [key] of Object.entries(formData)) {\n      obj[key] = [];\n    }\n    return obj;\n  };\n\n  const errors = ref<ErrorsObject<T>>(buildObject() as T);\n\n  const resetErrors = () => {\n    errors.value = buildObject();\n  };\n\n  const mapErrors = (error: AxiosError) => {\n    if (error.response?.status === 422) {\n      for (const [key, value] of Object.entries(error.response.data.errors)) {\n        errors.value[camel(key)].push(...(value as string[]));\n      }\n    } else {\n      throw new Error(error.message);\n    }\n  };\n\n  watch(formData, () => resetErrors());\n\n  return {\n    errors,\n    mapErrors,\n    valid,\n  };\n};\n"],"sourceRoot":""}